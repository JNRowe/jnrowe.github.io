
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17: http://docutils.sourceforge.net/" />

    <title>Advent of Code 2018 &#8212; JNRowe</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="canonical" href="https://jnrowe.github.io/articles/advent_of_code_2018.html" />
    <link rel="shortcut icon" href="../_static/icon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="Advent of Code 2019" href="advent_of_code_2019.html" />
    <link rel="prev" title="Advent of Code 2017" href="advent_of_code.html" /> 
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />
 
<link
  rel="alternate"
  type="application/atom+xml"
  href="../blog/atom.xml"
  title="JNRowe"
/>
 
<style type="text/css">
  ul.ablog-archive {
    list-style: none;
    overflow: auto;
    margin-left: 0px;
  }
  ul.ablog-archive li {
    float: left;
    margin-right: 5px;
    font-size: 80%;
  }
  ul.postlist a {
    font-style: italic;
  }
  ul.postlist-style-disc {
    list-style-type: disc;
  }
  ul.postlist-style-none {
    list-style-type: none;
  }
  ul.postlist-style-circle {
    list-style-type: circle;
  }
</style>
    <link href="https://jnrowe.github.io/" rel="me" />
  
  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
    <p class="read-time">
      <b>Estimated reading time</b>:
      20 minutes
    </p>
  
  <section id="advent-of-code-2018">
<h1>Advent of Code 2018<a class="headerlink" href="#advent-of-code-2018" title="Permalink to this headline">¶</a></h1>
<p>I’ve given up on <abbr title="Advent of Code">AoC</abbr> for this year, so we’ll have a ten day early
retrospective.  I’m writing this as a journal entry, more for myself than
others.  You’ve been warned!</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As always <a class="reference external" href="http://adventofcode.com/2018">Advent of Code</a> is fun, even when it doesn’t always feel like
it.  If you’re enjoying it, <em>or</em> currently screaming at it, <a class="reference external" href="https://adventofcode.com/2018/support">tip the
creator</a> so that we can smile and shout at it next year.</p>
</div>
<section id="why-quit">
<h2>Why quit?<a class="headerlink" href="#why-quit" title="Permalink to this headline">¶</a></h2>
<p>First up, I’m struggling with motivation a bit this year.  Added to that I’ve
floundered purely on the descriptions for the past couple of days, but I’m
pretty sure that it is largely my problem too.</p>
<p>I have 28 stars for completing both parts of every day so far this year, but
I haven’t been enjoying it enough to warrant continuing.</p>
</section>
<section id="day-1">
<h2>Day 1<a class="headerlink" href="#day-1" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://adventofcode.com/2018/day/1">Chronal Calibration</a></p></li>
</ul>
<p>As expected the first day is going to be easy.  So easy in fact you’ll regret
not getting up at 5am to race for the leaderboard.  All you have to do is sum
the numbers in your input.  The question page gives the following examples to
really hammer home the point:</p>
<blockquote>
<div><ul class="simple">
<li><p>+1, +1, +1 results in 3</p></li>
<li><p>+1, +1, -2 results in 0</p></li>
<li><p>-1, -2, -3 results in -6</p></li>
</ul>
</div></blockquote>
<p>If — like me — you often reach for <a class="reference external" href="http://suso.suso.org/programs/num-utils/">num-utils</a> at the command line then you’ll
hit an annoying failure:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> numsum &lt; inputs/day01.txt
<span class="go">-142678</span>
<span class="gp">$</span> awk <span class="s1">&#39;{total += $1} END {print total}&#39;</span> inputs/day01.txt
<span class="go">474</span>
</pre></div>
</div>
<p>It turns out that <strong class="command">numsum</strong> doesn’t like the leading <code class="docutils literal notranslate"><span class="pre">+</span></code> for positive
numbers, and somehow I’ve never noticed.  I’m <em>just about</em> observant enough to
notice that this was wrong though, so I didn’t submit the incorrect answer.
The question does remain though: is it better that <strong class="command">numsum</strong> ignores
“malformed” inputs or would a default strict mode be much nicer?</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> tr -d + &lt; inputs/day01.txt <span class="p">|</span> numsum
<span class="go">474</span>
</pre></div>
</div>
<p>Either way you probably wouldn’t really need to break out an editor to do part
one.</p>
<p>For part two we’re looking for the first repeat within a running sum.  I did
reach for <a class="reference external" href="https://github.com/vim/vim/">vim</a> with this, but <code class="docutils literal notranslate"><span class="pre">awk</span></code> at the prompt was still an option.
After completing the puzzle I dove in to tidy it a little and prepare for day
two, ending up with the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">cycle</span>

<span class="nd">@aoc_run</span><span class="p">({</span>
        <span class="s1">&#39;+1</span><span class="se">\n</span><span class="s1">-1&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s1">&#39;+3</span><span class="se">\n</span><span class="s1">+3</span><span class="se">\n</span><span class="s1">+4</span><span class="se">\n</span><span class="s1">-2</span><span class="se">\n</span><span class="s1">-4&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s1">&#39;-6</span><span class="se">\n</span><span class="s1">+3</span><span class="se">\n</span><span class="s1">+8</span><span class="se">\n</span><span class="s1">+5</span><span class="se">\n</span><span class="s1">-6&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
        <span class="s1">&#39;+7</span><span class="se">\n</span><span class="s1">+7</span><span class="se">\n</span><span class="s1">-2</span><span class="se">\n</span><span class="s1">-7</span><span class="se">\n</span><span class="s1">-4&#39;</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="mi">137041</span>
<span class="p">)</span>
<span class="nd">@read_data</span>
<span class="k">def</span> <span class="nf">shift2</span><span class="p">(</span><span class="n">inputs</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">seen</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="p">}</span>
    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">cycle</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">inputs</span><span class="p">)):</span>
        <span class="n">result</span> <span class="o">+=</span> <span class="n">n</span>
        <span class="k">if</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">seen</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">seen</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>While it won’t make much difference in this instance we use a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code></a>
for our <code class="docutils literal notranslate"><span class="pre">seen</span></code> bucket as it provides constant-time <em>O(1)</em> lookup, whereas
Python’s <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> implementation would be linear.</p>
</div>
<p id="test-runner-label">So, what have we here?  Well, we’ll want some kind of test runner for the
remaining days, so I hacked up a quick decorator to run the examples.</p>
<img alt="|AOC| example runner output" src="../_images/2018-12-15-advent_of_code.png" />
<p>A slightly trimmed version of it follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">aoc_run</span><span class="p">(</span><span class="n">tests</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">final_result</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">(</span><span class="si">{}</span><span class="s1">) == </span><span class="si">{!r}</span><span class="s1"> != </span><span class="si">{!r}</span><span class="s1">&#39;</span>

    <span class="k">def</span> <span class="nf">runner</span><span class="p">(</span><span class="n">fn</span><span class="p">):</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">fn</span><span class="o">.</span><span class="vm">__name__</span>
        <span class="n">passed</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">input_</span><span class="p">,</span> <span class="n">expected</span> <span class="ow">in</span> <span class="n">tests</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">fn</span><span class="p">(</span><span class="n">input_</span><span class="p">)</span>
            <span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="n">expected</span><span class="p">,</span> \
                <span class="n">err_msg</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">repr</span><span class="p">(</span><span class="n">input_</span><span class="p">),</span> <span class="n">result</span><span class="p">,</span> <span class="n">expected</span><span class="p">)</span>
            <span class="n">passed</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="n">fn_file</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">fn</span><span class="o">.</span><span class="n">__wrapped__</span><span class="o">.</span><span class="vm">__globals__</span><span class="p">[</span><span class="s1">&#39;__file__&#39;</span><span class="p">])</span>
        <span class="n">fname</span> <span class="o">=</span> <span class="s1">&#39;inputs/</span><span class="si">{}</span><span class="s1">.txt&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">fn_file</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">fn</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">final_result</span><span class="p">:</span>
            <span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="n">final_result</span><span class="p">,</span> \
                <span class="n">err_msg</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;file:&#39;</span> <span class="o">+</span> <span class="n">fname</span><span class="p">,</span> <span class="n">result</span><span class="p">,</span> <span class="n">final_result</span><span class="p">)</span>
            <span class="n">passed</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s1">:&#39;</span><span class="p">,</span> <span class="n">style</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">result</span><span class="p">),</span> <span class="n">fg</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s1">:&#39;</span><span class="p">,</span> <span class="n">style</span><span class="p">(</span><span class="s1">&#39;•&#39;</span> <span class="o">*</span> <span class="n">passed</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">fn</span>
    <span class="k">return</span> <span class="n">runner</span>
</pre></div>
</div>
<p>This allows us to pin a dictionary of examples to a function as a proof, and to
test our final result if we’re refactoring.  If you provide examples with no
personal solution the runner will simply display it, so that you can dump it in
to the day’s input box.</p>
<p>The only other interesting thing in the part two solution is that we’ve
immediately reached for <a class="reference external" href="https://docs.python.org/3/library/itertools.html#module-itertools" title="(in Python v3.9)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">itertools</span></code></a>.  <a class="reference external" href="https://docs.python.org/3/library/itertools.html#itertools.cycle" title="(in Python v3.9)"><code class="xref py py-func docutils literal notranslate"><span class="pre">cycle()</span></code></a> allowing us
to avoid implementing our own looping, and also avoid concerning ourselves with
the differences between iterators and iterables<a class="footnote-reference brackets" href="#id4" id="id1">1</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You could clearly implement the same thing with a <code class="docutils literal notranslate"><span class="pre">while</span></code> loop and an
index, but this method makes the reasoning obvious(at least in my eyes).
And that is the beauty of a lot of the helpers in <a class="reference external" href="https://docs.python.org/3/library/itertools.html#module-itertools" title="(in Python v3.9)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">itertools</span></code></a>, they
improve readability by allowing you to “code the intent”.</p>
</div>
<p>According to <a class="reference external" href="https://pypi.python.org/pypi/rdial">rdial</a> I could have been on the leaderboard for both parts
if I’d woken up at five to work on it :/</p>
</section>
<section id="day-2">
<h2>Day 2<a class="headerlink" href="#day-2" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://adventofcode.com/2018/day/2">Inventory Management System</a></p></li>
</ul>
<p>This puzzle was pretty simple too, largely just concerning a count of
characters.  Python helps here, as it provides a simple bag wrapper called
<a class="reference external" href="https://docs.python.org/3/library/collections.html#collections.Counter" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.Counter</span></code></a> that can do all the work for us.  An unedited dump
of my <a class="reference external" href="https://pypi.python.org/pypi/ptpython">ptpython</a> session is below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">part1</span><span class="p">(</span><span class="n">inputs</span><span class="p">):</span>
    <span class="n">twos</span> <span class="o">=</span> <span class="n">threes</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">inputs</span><span class="p">:</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="k">if</span> <span class="mi">3</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">threes</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="mi">2</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">twos</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">twos</span> <span class="o">*</span> <span class="n">threes</span>
</pre></div>
</div>
<p>In this instance a <code class="docutils literal notranslate"><span class="pre">Counter</span></code> object is simply a dictionary with characters
from the line as keys, and their frequency as values.  By simply relying on
<code class="docutils literal notranslate"><span class="pre">Counter</span></code> and asking it whether any items are repeated two or three times
we’re barely even having to write code to solve this problem.</p>
<p>For part two we’re required to find matches with a substitution edit distance
of one, and return their matching characters.  <a class="reference external" href="https://docs.python.org/3/library/difflib.html#module-difflib" title="(in Python v3.9)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">difflib</span></code></a> provides us with
<a class="reference external" href="https://docs.python.org/3/library/difflib.html#difflib.get_close_matches" title="(in Python v3.9)"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_close_matches()</span></code></a> which will the find matches for us.  For
example, we could loop over our inputs with something like the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">matches</span> <span class="o">=</span> <span class="n">get_close_matches</span><span class="p">(</span><span class="n">current</span><span class="p">,</span> <span class="n">inputs</span><span class="p">,</span> <span class="n">cutoff</span><span class="o">=</span><span class="n">cutoff</span><span class="p">)</span>
<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">matches</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">c1</span> <span class="k">for</span> <span class="n">c1</span><span class="p">,</span> <span class="n">c2</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">matches</span><span class="p">)</span> <span class="k">if</span> <span class="n">c1</span> <span class="o">==</span> <span class="n">c2</span><span class="p">))</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">cuttoff</span></code> is the threshold for changes, so <code class="docutils literal notranslate"><span class="pre">(len(current)</span> <span class="pre">-</span> <span class="pre">1)</span>
<span class="pre">/</span> <span class="pre">len(current)</span></code> for a single character change.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We’re seeing two matches here partly out of laziness, the simplified
version above is testing against the set of all inputs which includes the
current word and thus always has one perfect match.</p>
</div>
</section>
<section id="day-3">
<h2>Day 3<a class="headerlink" href="#day-3" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://adventofcode.com/2018/day/3">No Matter How You Slice It</a></p></li>
</ul>
<p>I feel like day three is the first day this year where we’ll need to do some
actual work, but how much work we’ll need to do is dependent on our feelings on
dependencies.  A few of my co-workers <em>claim</em> it is cheating to reach for an
off the shelf solution, but as the previous sections prove I’m definitely not
in that camp.  I’m of the opinion you <em>should</em> use pre-written well-tested code
in preference to writing your own code <em>every</em> time, otherwise we’re quickly
falling in to a <a class="reference external" href="https://en.m.wikipedia.org/wiki/No_true_Scotsman">No true Scotsman</a> argument as we chase our way back to
building computers with hand cracked flints.</p>
<p>For this puzzle we need to imagine a piece of mappable cloth, so a 2-d array is
on the cards.  If we’re using Python then we’ll need to do a lot of work to
operate on chunks of that array, but there is an easier way if we extend our
tools to include <a class="reference external" href="https://pypi.python.org/pypi/numpy">numpy</a>.</p>
<blockquote>
<div><p>“NumPy is a general-purpose array-processing package designed to
efficiently manipulate large multi-dimensional arrays of arbitrary records
without sacrificing too much speed for small multi-dimensional arrays.
NumPy is built on the Numeric code base and adds features introduced by
numarray as well as an extended C-API and the ability to create arrays of
arbitrary type which also makes NumPy suitable for interfacing with
general-purpose data-base applications.”</p>
<p class="attribution">—<a class="reference external" href="https://pypi.python.org/pypi/numpy">numpy</a> project page</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">numpy</span></code> supports addressing sub-arrays with <code class="docutils literal notranslate"><span class="pre">array[x1:x2,y1:y2]</span></code>, and
combined with its fast and efficient array creation we can solve this with low
effort.  So, we can prime an empty array and increment each element when it is
touched by an elf:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Geometry</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Geometry&#39;</span><span class="p">,</span> <span class="s1">&#39;x, y, w, h&#39;</span><span class="p">)</span>

<span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Geometry</span><span class="p">]</span> <span class="o">=</span> <span class="n">process_input</span><span class="p">(</span><span class="n">inputs</span><span class="p">)</span>

<span class="n">grid</span> <span class="o">=</span> <span class="n">zeros</span><span class="p">((</span><span class="n">max_x</span><span class="p">,</span> <span class="n">max_y</span><span class="p">))</span>
<span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
    <span class="n">grid</span><span class="p">[</span><span class="n">g</span><span class="o">.</span><span class="n">x</span><span class="p">:</span><span class="n">g</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">g</span><span class="o">.</span><span class="n">w</span><span class="p">,</span> <span class="n">g</span><span class="o">.</span><span class="n">y</span><span class="p">:</span><span class="n">g</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">g</span><span class="o">.</span><span class="n">h</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="k">return</span> <span class="n">grid</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">data</span></code> is our parsed puzzle input taking advantage of
a <a class="reference external" href="https://docs.python.org/3/library/collections.html#collections.namedtuple" title="(in Python v3.9)"><code class="xref py py-func docutils literal notranslate"><span class="pre">namedtuple()</span></code></a>.  My own solution ended up being generalised
in various ways for later use with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">inputs</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Geometry</span><span class="p">]:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">inputs</span><span class="p">:</span>
        <span class="n">c</span><span class="p">,</span> <span class="o">*</span><span class="n">geo</span> <span class="o">=</span> <span class="n">extract_numbers</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="n">data</span><span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="o">=</span> <span class="n">Geometry</span><span class="p">(</span><span class="o">*</span><span class="n">geo</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">data</span>
</pre></div>
</div>
<p>which is built upon a utility function that I wrote:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">extract_numbers</span><span class="p">(</span><span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
    <span class="k">return</span> <span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[-+]?\d+&#39;</span><span class="p">,</span> <span class="n">line</span><span class="p">))</span>
</pre></div>
</div>
<p>There are quite a few puzzles in this and previous years where extracting all
the numbers from a string that contains other noise is useful.  In today’s
example all the lines were of the form <code class="docutils literal notranslate"><span class="pre">#1353</span> <span class="pre">&#64;</span> <span class="pre">240,198:</span> <span class="pre">29x10</span></code>, and given
that the format is stable just pulling the numbers is an entirely reasonable
way to work with it.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The <code class="docutils literal notranslate"><span class="pre">[-+]</span></code> is there to match inputs similar to day one where positive
numbers may be given with a leading <code class="docutils literal notranslate"><span class="pre">+</span></code>.</p>
</div>
<p>Back to the problem at hand, all we need to do for part one is find the count
of array items where the value is greater than one.  Without even resorting to
more <code class="docutils literal notranslate"><span class="pre">numpy</span></code> goodness we can use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">grid</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">row</span> <span class="k">if</span> <span class="n">col</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>You could perform the calculation with <code class="docutils literal notranslate"><span class="pre">numpy</span></code> by having it filter the
results with <a class="reference external" href="https://docs.scipy.org/doc/numpy-1.15.1/reference/generated/numpy.where.html">where</a> instead of a generator.  That really doesn’t feel cleaner
in my eyes for this instance, but your taste will surely vary.</p>
<p>For part two we have to find a sub-array from our input that has no overlaps,
and we can simply iterate over the <code class="docutils literal notranslate"><span class="pre">dict</span></code> and return when we find no elements
above one:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">id_</span><span class="p">,</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">grid</span><span class="p">[</span><span class="n">g</span><span class="o">.</span><span class="n">x</span><span class="p">:</span><span class="n">g</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">g</span><span class="o">.</span><span class="n">w</span><span class="p">,</span> <span class="n">g</span><span class="o">.</span><span class="n">y</span><span class="p">:</span><span class="n">g</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">g</span><span class="o">.</span><span class="n">h</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">id_</span>
</pre></div>
</div>
<p>This time I’m showing a <code class="docutils literal notranslate"><span class="pre">numpy</span></code> version, but you could easily use the
built-in <a class="reference external" href="https://docs.python.org/3/library/functions.html#all" title="(in Python v3.9)"><code class="xref py py-func docutils literal notranslate"><span class="pre">all()</span></code></a> function as the worker for this depending on your taste
for <code class="docutils literal notranslate"><span class="pre">numpy</span></code><a class="footnote-reference brackets" href="#id5" id="id2">2</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>I’m going to recommend learning <a class="reference external" href="https://pypi.python.org/pypi/numpy">numpy</a> here irrespective of its use
in <abbr title="Advent of Code">AoC</abbr> puzzles as it is <em>hugely</em> useful when dealing with more complex
problems or with significantly larger inputs.  You’ll find <code class="docutils literal notranslate"><span class="pre">numpy</span></code> is far
more efficient as the size of the arrays increase, and it is a nice tool to
add to your knowledge.  In this specific instance it actually impairs the
run-time versus cPython using a <code class="docutils literal notranslate"><span class="pre">List[List[int]]</span></code>, but the slowdown is
very small and the array slicing syntax more than makes up for that.</p>
</div>
</section>
<section id="day-4">
<h2>Day 4<a class="headerlink" href="#day-4" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://adventofcode.com/2018/day/4">Repose Record</a></p></li>
</ul>
<p>The first thing to take note of here is that while we’re given a timestamp,
we’re told we only need to care about the minutes so there is no need to
parse the whole string.  We need to keep an inventory for each guard, and
I chose to just keep two lookup tables for quicker implementation in my
<abbr title="Read–Eval–Print Loop">REPL</abbr>; one for the guard’s time asleep <code class="docutils literal notranslate"><span class="pre">Dict[int,</span> <span class="pre">int]</span></code>, and one for minutes
they sleep on <code class="docutils literal notranslate"><span class="pre">Dict[int,</span> <span class="pre">List[int]]</span></code>.</p>
<p>Once again the standard library provides us with some functionality to make
this easier, and this time it is <a class="reference external" href="https://docs.python.org/3/library/collections.html#module-collections" title="(in Python v3.9)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">collections</span></code></a>’s
<a class="reference external" href="https://docs.python.org/3/library/collections.html#collections.defaultdict" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">defaultdict</span></code></a>.  Instead of needing to handle adding guards
for new… er, guards we can just dynamically create dictionary items from
a default:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">guards</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">guards_minutes</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
</pre></div>
</div>
<p>The naïve answer to processing this problem’s input is just a simple state
machine with a billion ways to implement it.  I chose this option and
produced an ugly many-armed state machine across a <code class="docutils literal notranslate"><span class="pre">sorted(input)</span></code>, which
I’ll spare you the horror of as it contains nothing unusual or interesting.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>While the timestamps are unused within the data the fact they’re in
<abbr title="International Organization for Standardization">ISO</abbr>-8601 format means we can use a default lexical sort, the problem
would have been a little trickier had it used American mid-endian date
formatting for example.</p>
</div>
<p>Once we’ve processed our input we can find the sleepiest guard:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sleepiest</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">guards</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="n">itemgetter</span><span class="p">(</span><span class="mi">1</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">key</span></code> argument causes <a class="reference external" href="https://docs.python.org/3/library/functions.html#max" title="(in Python v3.9)"><code class="xref py py-func docutils literal notranslate"><span class="pre">max()</span></code></a> to sort based on the tuple’s second
element.   Using <a class="reference external" href="https://docs.python.org/3/library/operator.html#module-operator" title="(in Python v3.9)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">operator</span></code></a>’s <a class="reference external" href="https://docs.python.org/3/library/operator.html#operator.itemgetter" title="(in Python v3.9)"><code class="xref py py-func docutils literal notranslate"><span class="pre">itemgetter()</span></code></a> here feels
nicer than a <code class="docutils literal notranslate"><span class="pre">lambda</span></code>, although the effect is the same.  Every time I reach
for <code class="docutils literal notranslate"><span class="pre">itemgetter()</span></code> or <a class="reference external" href="https://docs.python.org/3/library/operator.html#operator.attrgetter" title="(in Python v3.9)"><code class="xref py py-func docutils literal notranslate"><span class="pre">attrgetter()</span></code></a> I yearn for quick
<code class="docutils literal notranslate"><span class="pre">lambda</span></code> sugar, like <code class="docutils literal notranslate"><span class="pre">C#</span></code>’s <a class="reference external" href="https://en.m.wikipedia.org/wiki/Fat_comma">fat arrow</a> or some such.</p>
<p>Then to find the minute the guard is most likely to be asleep on:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">minute</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">guards_minutes</span><span class="p">[</span><span class="n">sleepiest</span><span class="p">])</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>Once again we’re using a <a class="reference external" href="https://docs.python.org/3/library/collections.html#collections.Counter" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Counter</span></code></a> object, which happily
provides us with a method to find the <code class="docutils literal notranslate"><span class="pre">n</span></code>-th most common element(one in
this case.  If the deep tuple indexing upsets you — and it does me — then you
could rewrite it in reverse order using <a class="reference external" href="https://docs.python.org/3/library/functions.html#max" title="(in Python v3.9)"><code class="xref py py-func docutils literal notranslate"><span class="pre">max()</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/functions.html#sorted" title="(in Python v3.9)"><code class="xref py py-func docutils literal notranslate"><span class="pre">sorted()</span></code></a>.
However, for a quick <code class="docutils literal notranslate"><span class="pre">ptpython</span></code> session I was happy <em>enough</em> with that.</p>
<p>The second part is simply just grabbing at the data with a different selector,
and contains no new functionality.</p>
</section>
<section id="day-5">
<h2>Day 5<a class="headerlink" href="#day-5" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://adventofcode.com/2018/day/5">Alchemical Reduction</a></p></li>
</ul>
<p>For day five we need to work our way around a string collapsing it when various
conditions match.  I chose to use a <a class="reference external" href="https://docs.python.org/3/library/collections.html#collections.deque" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">deque</span></code></a> for this as
a double ended queue allowed me to quickly visualise the pointer moving around,
but <code class="docutils literal notranslate"><span class="pre">cast</span></code>ing to a list would be a far cleaner solution.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">deque</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">ord</span><span class="p">,</span> <span class="n">string</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">string</span><span class="p">))</span>
<span class="n">p</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">p</span> <span class="o">&lt;</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">^</span> <span class="mh">0x20</span> <span class="o">==</span> <span class="n">data</span><span class="p">[</span><span class="n">p</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]:</span>
        <span class="n">data</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="o">-</span><span class="n">p</span><span class="p">)</span>
        <span class="n">data</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>
        <span class="n">data</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>
        <span class="n">data</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
        <span class="n">p</span> <span class="o">=</span> <span class="nb">max</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="n">p</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span>  <span class="c1"># Re-align pointer</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">p</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<p>I made the solution very dirty by working on the code points instead of the
characters as I was prematurely optimising for run-time.  The <code class="docutils literal notranslate"><span class="pre">char</span> <span class="pre">^</span> <span class="pre">0x20</span></code>
part is a bit flipping trick to invert the case of an ASCII character, and it
removes the need to test both <code class="docutils literal notranslate"><span class="pre">Aa</span></code> and <code class="docutils literal notranslate"><span class="pre">aA</span></code> for example.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You could just as easily use <code class="docutils literal notranslate"><span class="pre">str.swapcase()</span></code> if you’re working on the
characters directly, while also noting that doing so would handle Unicode
and other cools things my version wouldn’t.</p>
</div>
<p>I’ve since benchmarked a couple of alternatives, such as iterating over
<code class="docutils literal notranslate"><span class="pre">string.ascii_lowercase</span></code> and calling <code class="docutils literal notranslate"><span class="pre">str.replace()</span></code> until the
string no longer changes.  Many are simpler to reason about and have roughly
the same runtime, but for pedagogical honesty I’ve kept the <code class="docutils literal notranslate"><span class="pre">deque</span></code> version
here.</p>
<p>Anyway, it turns out I was right.  There were going to be some significant
optimisations to make this work reasonably.  However, they didn’t show up until
part two, and when they did it was easier to switch languages than acceptably
speed up the Python version.  The result using the following <code class="docutils literal notranslate"><span class="pre">C++</span></code> is
instantaneous on my machine, while the Python version takes few seconds per
example to produce the same answer.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;string&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp"></span>

<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">react</span><span class="p">(</span><span class="n">string</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="nl">c</span><span class="p">:</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">q</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="p">{</span>
            <span class="n">q</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">c</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="kt">char</span> <span class="n">prev</span> <span class="o">=</span> <span class="n">q</span><span class="p">.</span><span class="n">back</span><span class="p">();</span>
            <span class="k">if</span> <span class="p">((</span><span class="n">prev</span> <span class="o">^</span> <span class="mh">0x20</span><span class="p">)</span> <span class="o">==</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">q</span><span class="p">.</span><span class="n">pop_back</span><span class="p">();</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">q</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">c</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">q</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">string</span> <span class="n">s</span><span class="p">;</span>
    <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">s</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="n">INT16_MAX</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="sc">&#39;a&#39;</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="sc">&#39;z&#39;</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">string</span> <span class="n">test</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">char</span> <span class="nl">c</span><span class="p">:</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">c</span> <span class="o">==</span> <span class="n">i</span> <span class="o">||</span> <span class="p">(</span><span class="n">c</span> <span class="o">^</span> <span class="mh">0x20</span><span class="p">)</span> <span class="o">==</span> <span class="n">i</span><span class="p">))</span> <span class="p">{</span>
                <span class="n">test</span> <span class="o">+=</span> <span class="n">c</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">react</span><span class="p">(</span><span class="n">test</span><span class="p">));</span>
    <span class="p">}</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">ans</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">EXIT_SUCCESS</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>I’m using the same general method here; my <code class="docutils literal notranslate"><span class="pre">deque</span></code> in the Python version is
basically a vector anyway, and the case swapping trick is the same.</p>
<p>I’m showing it in full to make a point here, if you want speed in these games
use a language with loads of helpers built in and low verbosity.  Even things
like <code class="docutils literal notranslate"><span class="pre">string.ascii_lowercase</span></code> saves valuable seconds over making your own
iterator.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>A co-worker used <code class="docutils literal notranslate"><span class="pre">qwertyuiopasdfghjklzxcvbnm</span></code> in their solution, as it is
faster to mash the keyboard in order than type out the alphabet.  I have to
admit I <em>really</em> loved seeing that, and it wouldn’t have occurred to me.</p>
</div>
</section>
<section id="day-6">
<h2>Day 6<a class="headerlink" href="#day-6" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://adventofcode.com/2018/day/6">Chronal Coordinates</a></p></li>
</ul>
<p>Day 6 was a chore.  Sitting on the train I read a few mails from co-workers who
had landed on a bug in the puzzle that meant their correct answers wouldn’t be
accepted, and that was later clarified in a note on the <a class="reference external" href="https://adventofcode.com/2018/leaderboard">leaderboard</a>.</p>
<p>With this in mind I totally ignored the puzzle until after work, at which point
I just mashed together the easiest solution I could as I didn’t want to waste
time on it.  Given it is just <a class="reference external" href="https://en.wikipedia.org/wiki/Taxicab_geometry">Manhattan distance</a> on an map there wasn’t
anything new to see anyhow; I will note that <a class="reference external" href="https://pypi.python.org/pypi/scipy">scipy</a> contains
<code class="docutils literal notranslate"><span class="pre">scipy.spatial.distance</span></code> which supports taxicab geometry with the
<code class="docutils literal notranslate"><span class="pre">cityblock</span></code> parameter though<a class="footnote-reference brackets" href="#id6" id="id3">3</a>.</p>
</section>
<section id="day-7">
<h2>Day 7<a class="headerlink" href="#day-7" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://adventofcode.com/2018/day/7">The Sum of Its Parts</a></p></li>
</ul>
<p>I’m not sure what to say about this puzzle.  If you spotted that
this was a topological sort with lexicographically broken tie breaks, you’d
probably already know that <a class="reference external" href="https://pypi.python.org/pypi/networkx">networkx</a> provides
<code class="docutils literal notranslate"><span class="pre">lexicographical_topological_sort()</span></code>.  I’m that person, and so I just called
the function for the answer.</p>
<p>I think this is where I started to lose interest.  Somehow I <em>won</em>, but
I really didn’t feel like I had.  That felt like cheating, and so did using
<a class="reference external" href="https://pypi.python.org/pypi/scipy">scipy</a> the day before.  As I said at the start, I’ve been lacking
motivation a little anyway and I’m not assigning <em>any</em> blame toward <abbr title="Advent of Code">AoC</abbr>
creators for this.</p>
</section>
<section id="day-8-14">
<h2>Day 8..14<a class="headerlink" href="#day-8-14" title="Permalink to this headline">¶</a></h2>
<p>I’ve largely just been going through the motions for the past few days, and if
it hadn’t been for wishing to peacock some co-workers I’d probably have retired
earlier ;)</p>
<p>And that is the main reason I’m quitting, I don’t even like my own solutions
enough to write about them.  A combination of just doing the minimum required
to get <em>an</em> answer and not being interested enough to go back for refactoring.</p>
</section>
<section id="tips">
<h2>Tips<a class="headerlink" href="#tips" title="Permalink to this headline">¶</a></h2>
<p>I’m mostly repeating my tips from <a class="reference internal" href="advent_of_code.html"><span class="doc">last year</span></a>.</p>
<p>Don’t use this as an excuse to learn a new language.  The puzzles aren’t really
complicated enough to learn a new language beyond basic grammar.  You may as
well use it as an excuse to explore new features in a language you already
know, or as an excuse to explore the standard library of your chosen language
some more.</p>
<p>Read the problems <em>deeply</em>.  The artificial nature of the puzzles often elides
important information, or at least can often feel that way.  These <em>are</em>
puzzles so you should expect some vexation, and skimming for speed will make
this worse!</p>
<p>If you’re going for the leaderboard you need to be <em>really</em> fast, so: Use fast
languages, be <em>all over</em> your chosen weapon’s standard library, and use your
editor’s <a class="reference external" href="https://github.com/SirVer/ultisnips/">snippets</a> well.  <strong>Every</strong>. <strong>Second</strong>. <strong>Counts</strong>.</p>
<p>And finally, keep your old solutions around either in files or in your <abbr title="Read–Eval–Print Loop">REPL</abbr>’s
history as you’ll probably end up revisiting them.</p>
</section>
<section id="hopes-for-2019">
<h2>Hopes for 2019?<a class="headerlink" href="#hopes-for-2019" title="Permalink to this headline">¶</a></h2>
<p>Moving up a place from number two last year: That the options to pay for it are
better next year.  Each year I have to find a friend to make a donation in my
place as the payment options are weak.  It would be nice to not have to do so,
and limiting payments to PayPal and Coinbase <em>must</em> be putting others off
a donation entirely.</p>
<p>Number two?  That it returns.  When it is fun it is <em>really</em> fun, and I just
hope I’m in a better place personally next time.</p>
</section>
<section id="whats-next">
<h2>What’s next?<a class="headerlink" href="#whats-next" title="Permalink to this headline">¶</a></h2>
<p>Let us be honest here.  Winterval is almost upon us and I’ll probably end up
diving back in to complete the remaining days ;)</p>
<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="id4"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>For those not too familiar with <a class="reference external" href="https://www.python.org/">Python</a> — and forgetful people like me
— it can be easy to trip oneself up when iterating over a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>
repeatably, and then exhausting an iterable when you pass that instead.
<a class="reference external" href="https://docs.python.org/3/library/itertools.html#itertools.cycle" title="(in Python v3.9)"><code class="xref py py-func docutils literal notranslate"><span class="pre">cycle()</span></code></a> does the right thing either way.</p>
</dd>
<dt class="label" id="id5"><span class="brackets"><a class="fn-backref" href="#id2">2</a></span></dt>
<dd><p>Or for that matter <code class="docutils literal notranslate"><span class="pre">numpy</span></code>’s own <code class="docutils literal notranslate"><span class="pre">all()</span></code> function which becomes
useful when using <code class="docutils literal notranslate"><span class="pre">numpy</span></code> for more complicated tasks.</p>
</dd>
<dt class="label" id="id6"><span class="brackets"><a class="fn-backref" href="#id3">3</a></span></dt>
<dd><p>Yep, I’ve used three names for the same concept here to make a point
about how annoying it can be to discuss these things when even simple
concepts are often known by various common names.</p>
</dd>
</dl>
</section>
</section>

    <hr>

    <p class="keybase-verify">
      Authenticate this page by pasting <a
        href="https://raw.githubusercontent.com/JNRowe/jnrowe.github.io/source/articles/advent_of_code_2018.rst.asc">this signature</a> into
      <a href="https://keybase.io/verify">Keybase</a>.
    </p>

    <p class="edit-page">
      Have a suggestion or see a typo?  <a href="https://github.com/JNRowe/jnrowe.github.io/edit/source/articles/advent_of_code_2018.rst">Edit this page</a>
    </p>
  

<div class="section">
    

<div class="section">
  <span style="float: left">
     Previous:
    
    <a href="new_love_giddiness.html">
       Giddy new project love
    </a>
    
  </span>
  <span>&nbsp;</span>
  <span style="float: right">
     Next: 
    <a href="../office_hours.html">
      Office hours 
    </a>
    
  </span>
</div>
  
</div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/logo.png" alt="Logo"/>
    
  </a>
</p>








  
<h2>
   
  2018-12-15 
</h2>

<ul>
   
<li id="author">
  <span
    >Author:</span
  >
   
  <a href="../blog/author/james-rowe.html">James Rowe</a>  
</li>
    
<li id="tags">
  <span
    >Tags: </span
  >
   
  <a href="../blog/tag/adventofcode.html">adventofcode</a>   
  <a href="../blog/tag/coding.html">coding</a>   
  <a href="../blog/tag/puzzles.html">puzzles</a>  
</li>
 
</ul>
<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../projects.html">Projects</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Articles</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="advent_of_code.html">Advent of Code 2017</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Advent of Code 2018</a></li>
<li class="toctree-l2"><a class="reference internal" href="advent_of_code_2019.html">Advent of Code 2019</a></li>
<li class="toctree-l2"><a class="reference internal" href="advent_of_code_2020.html">Advent of Code 2020</a></li>
<li class="toctree-l2"><a class="reference internal" href="dropping_gentoo.html">Dropping Gentoo</a></li>
<li class="toctree-l2"><a class="reference internal" href="dropping_gentoo_reflex.html">Dropping Gentoo reflex</a></li>
<li class="toctree-l2"><a class="reference internal" href="evil_emacs_steals_my_heart.html">Evil Emacs steals my heart</a></li>
<li class="toctree-l2"><a class="reference internal" href="fossil.html"><strong class="command">fossil</strong> experiments</a></li>
<li class="toctree-l2"><a class="reference internal" href="gps_rollover_2019.html">GPS rollover 2019</a></li>
<li class="toctree-l2"><a class="reference internal" href="mangling_planets.html">Mangling planets</a></li>
<li class="toctree-l2"><a class="reference internal" href="march_toward_death.html">Visualising the progress of time</a></li>
<li class="toctree-l2"><a class="reference internal" href="mutt_config_snippets.html"><strong class="command">mutt</strong> configuration snippets</a></li>
<li class="toctree-l2"><a class="reference internal" href="new_love_giddiness.html">Giddy new project love</a></li>
<li class="toctree-l2"><a class="reference internal" href="rcs.html">Introduction to <abbr title="GNU Revision Control System">RCS</abbr></a></li>
<li class="toctree-l2"><a class="reference internal" href="redo_ninja_make.html">while $sun; do <strong class="command">make</strong> hay; done</a></li>
<li class="toctree-l2"><a class="reference internal" href="tdd_distros.html"><abbr title="Test Driven Development">TDD</abbr> distro development</a></li>
<li class="toctree-l2"><a class="reference internal" href="tiling_vs_tabbing.html">Tiling vs tabbing</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#further-categories">Further categories</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../thoughts/index.html">Thoughts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../colophon.html">Colophon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contact.html">Contact details</a></li>
<li class="toctree-l1"><a class="reference internal" href="../consult.html">Consulting services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../copyright.html">Copyright information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>


<h3>
  <a href="../blog.html">Recent Posts</a>
</h3>
<ul>
   
  <li>
    <a href="advent_of_code_2020.html"
      >16 December - Advent of Code 2020</a
    >
  </li>
  
  <li>
    <a href="advent_of_code_2019.html"
      >11 December - Advent of Code 2019</a
    >
  </li>
  
  <li>
    <a href="../thoughts/i_have_a_secret.html"
      >24 May - I have a secret</a
    >
  </li>
  
  <li>
    <a href="gps_rollover_2019.html"
      >05 April - GPS rollover 2019</a
    >
  </li>
  
  <li>
    <a href="../office_hours.html"
      >23 December - Office hours</a
    >
  </li>
  
</ul>

<h3><a href="../blog/tag.html">Tags</a></h3>
<style type="text/css">
  ul.ablog-cloud {
    list-style: none;
    overflow: auto;
  }
  ul.ablog-cloud li {
    float: left;
    height: 20pt;
    line-height: 18pt;
    margin-right: 5px;
  }
  ul.ablog-cloud a {
    text-decoration: none;
    vertical-align: middle;
  }
  li.ablog-cloud-1 {
    font-size: 80%;
  }
  li.ablog-cloud-2 {
    font-size: 95%;
  }
  li.ablog-cloud-3 {
    font-size: 110%;
  }
  li.ablog-cloud-4 {
    font-size: 125%;
  }
  li.ablog-cloud-5 {
    font-size: 140%;
  }
</style>
<ul class="ablog-cloud">
   
  <li class="ablog-cloud ablog-cloud-2">
    <a href="../blog/tag/gtk.html">GTK+</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/x11.html">X11</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/abook.html">abook</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-3">
    <a href="../blog/tag/adventofcode.html">adventofcode</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/atom.html">atom</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-2">
    <a href="../blog/tag/awesome.html">awesome</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/bash.html">bash</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/blog.html">blog</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/bts.html">bts</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/bugs.html">bugs</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/bugzilla.html">bugzilla</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/build.html">build</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/burnout.html">burnout</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-3">
    <a href="../blog/tag/coding.html">coding</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/configs.html">configs</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/csv.html">csv</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/databases.html">databases</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/denoise.html">denoise</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/desktop.html">desktop</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-2">
    <a href="../blog/tag/devel.html">devel</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/development.html">development</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/dzen.html">dzen</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/emacs.html">emacs</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/evil.html">evil</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/feed.html">feed</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/focus.html">focus</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/fossil.html">fossil</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-3">
    <a href="../blog/tag/gentoo.html">gentoo</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/git.html">git</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/gmail.html">gmail</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/gps.html">gps</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/history.html">history</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/hobbies.html">hobbies</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/imv.html">imv</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/jnrowe-misc.html">jnrowe-misc</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/jury.html">jury</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/languages.html">languages</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/law.html">law</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/learning.html">learning</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-5">
    <a href="../blog/tag/life.html">life</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-3">
    <a href="../blog/tag/linux.html">linux</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/mail.html">mail</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/make.html">make</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-2">
    <a href="../blog/tag/mutt.html">mutt</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/net.html">net</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/ninja.html">ninja</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/noise.html">noise</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/oss.html">oss</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/personal.html">personal</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/pipes.html">pipes</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/politics.html">politics</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/privacy.html">privacy</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/probit.html">probit</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-2">
    <a href="../blog/tag/projects.html">projects</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-3">
    <a href="../blog/tag/puzzles.html">puzzles</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/python.html">python</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/qmv.html">qmv</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/readline.html">readline</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/redo.html">redo</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/remind.html">remind</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/renameutils.html">renameutils</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/site.html">site</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/software.html">software</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/sql.html">sql</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-4">
    <a href="../blog/tag/styling.html">styling</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/sup.html">sup</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/tabbed.html">tabbed</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/testing.html">testing</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/three.html">three</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/tiling.html">tiling</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/time.html">time</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/tools.html">tools</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/unix.html">unix</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-3">
    <a href="../blog/tag/vcs.html">vcs</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-4">
    <a href="../blog/tag/vim.html">vim</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/web.html">web</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-2">
    <a href="../blog/tag/work.html">work</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/yahoo.html">yahoo</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../blog/tag/zsh.html">zsh</a>
  </li>
   
</ul>

<h3>
  <a href="../blog/archive.html">Archives</a>
</h3>
<ul>
   
  <li>
    <a href="../blog/2020.html">2020 (1)</a>
  </li>
    
  <li>
    <a href="../blog/2019.html">2019 (3)</a>
  </li>
    
  <li>
    <a href="../blog/2018.html">2018 (13)</a>
  </li>
    
  <li>
    <a href="../blog/2017.html">2017 (1)</a>
  </li>
    
  <li>
    <a href="../blog/2014.html">2014 (12)</a>
  </li>
    
  <li>
    <a href="../blog/2013.html">2013 (2)</a>
  </li>
    
  <li>
    <a href="../blog/2011.html">2011 (1)</a>
  </li>
    
  <li>
    <a href="../blog/2010.html">2010 (2)</a>
  </li>
    
  <li>
    <a href="../blog/2009.html">2009 (24)</a>
  </li>
    
  <li>
    <a href="../blog/2007.html">2007 (2)</a>
  </li>
    
  <li>
    <a href="../blog/2003.html">2003 (1)</a>
  </li>
   
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2009-2021  James Rowe,
      <a href="http://creativecommons.org/licenses/by-sa/4.0/" rel="license">
          Creative Commons Attribution-ShareAlike 4.0
      </a> license.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>